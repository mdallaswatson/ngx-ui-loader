<!-- Progress bar {{{ -->
@if (hasProgressBar()) {
  <div
    [class]="'ngx-progress-bar ngx-progress-bar-' + pbDirection()"
    [class.ngx-position-absolute]="loaderId() !== defaultConfig.masterLoaderId"
    [style.height.px]="pbThickness()"
    [style.color]="pbColor()"
    [class.loading-foreground]="showForeground"
    [class.foreground-closing]="foregroundClosing"
    [class.fast-closing]="foregroundClosing && fastFadeOut"
  ></div>
}
<!-- Progress bar }}} -->

<!-- Foreground container {{{ -->
<div
  class="ngx-overlay"
  [class.ngx-position-absolute]="loaderId() !== defaultConfig.masterLoaderId"
  [style.background-color]="overlayColor()"
  [style.border-radius]="overlayBorderRadius()"
  [class.loading-foreground]="showForeground"
  [class.foreground-closing]="foregroundClosing"
  [class.fast-closing]="foregroundClosing && fastFadeOut"
  >
  <!-- Logo {{{ -->
  @if (logoUrl()) {
    <img
      [class]="'ngx-loading-logo ' + logoPosition()"
      [src]="trustedLogoUrl"
      [style.width.px]="logoSize()"
      [style.height.px]="logoSize()"
      [style.top]="logoTop"
      />
  }
  <!-- Logo }}} -->

  <!-- Foreground spinner {{{ -->
  <div
    [class]="'ngx-foreground-spinner ' + fgsPosition()"
    [style.color]="fgsColor()"
    [style.width.px]="fgsSize()"
    [style.height.px]="fgsSize()"
    [style.top]="spinnerTop"
    >
    @if (!fgsTemplate()) {
      <div [class]="fgSpinnerClass">
        @for (div of fgDivs; track div) {
          <div></div>
        }
      </div>
    } @else {
      <ng-container *ngTemplateOutlet="fgsTemplate()" />
    }
  </div>
  <!-- Foreground spinner }}} -->

  <!-- Loading text {{{ -->
  <div
    class="ngx-loading-text " + logoPosition
    [style.top]="textTop"
    [style.color]="textColor()"
    >
    <span>{{ text() }}</span>
  </div>
  <!-- Loading text }}} -->
</div>
<!-- Foreground container }}} -->

<!-- Background spinner {{{ -->
<div
  [class]="'ngx-background-spinner ' + bgsPosition()"
  [class.ngx-position-absolute]="loaderId() !== defaultConfig.masterLoaderId"
  [class.loading-background]="showBackground"
  [class.background-closing]="backgroundClosing"
  [class.fast-closing]="backgroundClosing && fastFadeOut"

  [style.width.px]="bgsSize()"
  [style.height.px]="bgsSize()"
  [style.color]="bgsColor()"
  [style.opacity]="bgsOpacity()"
  >
  @if (!bgsTemplate()) {
    <div [class]="bgSpinnerClass">
      @for (div of bgDivs; track div) {
        <div></div>
      }
    </div>
  } @else {
    <ng-container *ngTemplateOutlet="bgsTemplate()" />
  }
</div>
<!-- Background spinner }}} -->
